@{
    ViewData["Title"] = "صفحه اصلی";
}

<div class="text-center">
    <h1 class="display-4">خوش آمدید</h1>
    <p>درباره <a href="https://docs.microsoft.com/aspnet/core">ساخت اپلیکیشن‌های وب با ASP.NET Core</a> بیشتر بدانید.</p>

    @if (ViewBag.ErrorMessage != null)
    {
        <p class="text-danger">@ViewBag.ErrorMessage</p>
    }

    <form method="post" asp-controller="Home" asp-action="Start">
        <input type="text" name="search" style="width: 70%; direction: rtl;" placeholder="کلیدواژه جستجو" required />
        <input type="hidden" name="crowlId" value="0" />
        <button type="submit" class="btn btn-success">▶ شروع کرولر</button>
    </form>

    <p>توسعه‌یافته توسط <a href="https://sjpz.ir">sjpz.ir</a></p>
    <a href="~/home/List" class="btn btn-primary">مشاهده گزارشات</a>

    <div class="mt-4">
        <h3>لاگ‌های کرولر</h3>
        @if (ViewBag.Logs != null && ViewBag.Logs.Count > 0)
        {
            <table class="table table-bordered table-striped">
                <thead>
                    <tr>
                        <th>زمان</th>
                        <th>سطح</th>
                        <th>پیام</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var log in ViewBag.Logs)
                    {
                        <tr class="@(log.Level == "Error" ? "table-danger" : log.Level == "Warning" ? "table-warning" : "")">
                            <td>@log.Timestamp.ToString("yyyy/MM/dd HH:mm:ss")</td>
                            <td>@log.Level</td>
                            <td>@log.Message</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
        else
        {
            <p>هیچ لاگی برای نمایش وجود ندارد.</p>
        }
    </div>
</div>